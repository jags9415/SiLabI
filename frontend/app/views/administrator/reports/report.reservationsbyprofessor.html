<div>
  <h2>Reservaciones por Docente</h2>
  <hr>
  <ol class="breadcrumb">
    <li><a href="#/">Inicio</a></li>
    <li><a href="#/Administrador/Reportes">Reportes</a></li>
    <li class="active">Reservaciones por Docente</li>
  </ol>
  <form autocomplete="off">
    <div cg-busy="ResByProfessor.promise"></div>
    <div id="reportContent" style="background-color:#ffffff">
      <div class="text-center">
        <p><b>Instituto Tecnológico de Costa Rica</b></p>
        <p><b>Escuela Ciencias del Lenguaje</b></p>
        <p><b>Laboratorio de Inglés</b></p>
      </div>
      <br/>
      <div class="text-left">
      <p><b>Reporte: </b> Reservaciones por docente </p>
      <div ng-show="ResByProfessor.period.start_date !=null && ResByProfessor.period.end_date!=null">
        <p><b>Periodo:</b> {{ ResByProfessor.period.start_date | date:'longDate' }} - {{ ResByProfessor.period.end_date | date:'longDate' }}</p>
      </div>
      <div ng-show="ResByProfessor.reservations.length > 0">
        <p><b>Docente:</b> {{ResByProfessor.professor.full_name}} </p>
        </div>
      </div>
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Fecha Inicio</th>
              <th>Fecha Final</th>
              <th>Software</th>
              <th>Laboratorio</th>
              <th>Estado</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="res in ResByProfessor.reservations">
              <td>{{ res.start_time | date : 'd MMM y hh:mm a' }}</td>
              <td>{{ res.end_time | date : 'd MMM y hh:mm a' }}</td>
              <td>{{ res.software.code }}</td>
              <td>{{ res.laboratory.name }}</td>
              <td>{{ res.state }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 text-left">
        <button type="button" class="btn btn-primary" ng-click="ResByProfessor.generateReport()" ng-show="ResByProfessor.reservations.length > 0 ">
          <i class="glyphicon glyphicon-save"></i> Descargar Reporte
        </button>
      </div>
    </div>
    <p ng-show="ResByProfessor.isLoaded() && ResByProfessor.isEmpty()">No se encontraron resultados.</p>
    <br>
    <div class="row" ng-show="ResByProfessor.totalPages > 1">
      <div class="col-md-12 pagination">
        <pagination ng-if="ResByProfessor.totalItems"
          ng-change="ResByProfessor.loadPage(true)" ng-model="ResByProfessor.page" items-per-page="ResByProfessor.limit"
          total-items="ResByProfessor.totalItems" max-size="5" boundary-links="true" rotate="true"
          previous-text="<" next-text=">" first-text="<<" last-text=">>"
        ></pagination>
      </div>
    </div>
  </form>
</div>
