<div>
  <h2>Reservaciones por Grupo</h2>
  <hr>
  <ol class="breadcrumb">
    <li><a href="#/">Inicio</a></li>
    <li><a href="#/Administrador/Reportes">Reportes</a></li>
    <li class="active">Reservaciones por Grupo</li>
  </ol>
  <form autocomplete="off">
    <div cg-busy="ResByGroup.promise"></div>
    <div id="reportContent" style="background-color:#ffffff">
      <div class="text-center">
        <p><b>Instituto Tecnológico de Costa Rica</b></p>
        <p><b>Escuela Ciencias del Lenguaje</b></p>
        <p><b>Laboratorio de Inglés</b></p>
      </div>
      <br/>
      <div class="text-left">
      <p><b>Reporte: </b> Reservaciones por grupo </p>
      <div ng-show="ResByGroup.period.start_date !=null && ResByGroup.period.end_date!=null">
        <p><b>Periodo:</b> {{ ResByGroup.period.start_date | date:'longDate' }} - {{ ResByGroup.period.end_date | date:'longDate' }}</p>
      </div>
      <div ng-show="ResByGroup.group != null">
        <p><b>Grupo:</b> {{ResByGroup.group.course.name}} - Número: {{ResByGroup.group.number}} </p>
        </div>
      </div>
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Fecha Inicio</th>
              <th>Fecha Final</th>
              <th>Software</th>
              <th>Laboratorio</th>
              <th>Estado</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="res in ResByGroup.reservations">
              <td>{{ res.start_time | date : 'd MMM y hh:mm a' }}</td>
              <td>{{ res.end_time | date : 'd MMM y hh:mm a' }}</td>
              <td>{{ res.software.code }}</td>
              <td>{{ res.laboratory.name }}</td>
              <td>{{ res.state }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 text-left">
        <button type="button" class="btn btn-primary" ng-click="ResByGroup.generateReport()" ng-show="ResByGroup.reservations.length > 0 ">
          <i class="glyphicon glyphicon-save"></i> Descargar Reporte
        </button>
      </div>
    </div>
    <p ng-show="ResByGroup.isLoaded() && ResByGroup.isEmpty()">No se encontraron resultados.</p>
    <br>
    <div class="row" ng-show="ResByGroup.totalPages > 1">
      <div class="col-md-12 pagination">
        <pagination ng-if="ResByGroup.totalItems"
          ng-change="ResByGroup.loadPage(true)" ng-model="ResByGroup.page" items-per-page="ResByGroup.limit"
          total-items="ResByGroup.totalItems" max-size="5" boundary-links="true" rotate="true"
          previous-text="<" next-text=">" first-text="<<" last-text=">>"
        ></pagination>
      </div>
    </div>
  </form>
</div>
